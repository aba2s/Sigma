{% load static %}



{% block content %}
<nav class="navbar navbar-expand-lg navbar-dark">
  <a class="navbar-brand" href="/">
    <h4><i class="fa fa-road"></i> Sigma</h4>
  </a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
    aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item-active">
        <a class="nav-link" href="{% url 'docs' %}">Docs</a>
      </li>

      <li class="nav-item active">
        <a class="nav-link" href="{% url 'user_campaign_naming_tools' user.pk %}">CNT</a>
      </li>

      <li class="nav-item active">
        <a class="nav-link" href="{% url 'user_insertion_orders' user.pk %}">Insertion Orders</a>
      </li>

      <li class="nav-item active">
        <a class="nav-link" href="{% url 'create_user_insertion_order_by_dsp'  user.pk %}">DSP</a>
      </li>
      {% if request.resolver_match.view_name == 'user_campaign_naming_tools' or request.resolver_match.view_name == 'user_insertion_orders' %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
          role="button" data-bs-toggle="dropdown" aria-expanded="false">
          Create
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
          <li>
            {% if request.resolver_match.view_name == 'user_campaign_naming_tools' %}
            <!--link that trigger the modal -->
            <a  class="dropdown-item" hx-get="{% url 'create_campaign_naming_tool' %}" hx-target="#dialog"> 
              Campaign naming tool
            </a>
            <a  class="dropdown-item" hx-get="{% url 'bulk_create_campaign_naming_tool' %}" hx-target="#dialog"> 
              Bulk create CNTs
            </a>
            {% endif %}
           
            {% if request.resolver_match.view_name == 'user_insertion_orders' %}
            <!--link that trigger the modal -->
            <a  class="dropdown-item" hx-get="{% url 'create_user_insertion_order' %}" hx-target="#dialog">
              Insertion order
            </a>
            <a  class="dropdown-item" hx-get="{% url 'bulk_create_user_insertion_order' %}" hx-target="#dialog"> 
              Bulk create IOs
            </a>
            {% endif %}
      {% endif %}
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <span class="hello-msg" style="color: white;"> Hello, {{request.user}}</span>
  <span class="hello-msg">
    <a href="{% url 'logout' %}"><i class="fa fa-power-off"></i></a>
  </span>
  <!-- The following script is for the insertion order and cnt modal. 
    The js code that handle that modal popup is in index.html-->
  <!-- Placeholder for the modal -->
  <div id="modal" class="modal fade">
    <div id="dialog" class="modal-dialog" hx-target="this"></div>
  </div>
  <!-- Empty toast to show the message -->
  <div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="toast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div id="toast-body" class="toast-body"></div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>
</nav>

{% endblock content %}

